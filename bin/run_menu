#!/usr/bin/env sh

. "${CJ_DOTFILES}/assets/colors.sh"
. "${CJ_DOTFILES}/settings.sh"

apps() {
  cd /usr/bin
  fd --type executable --exclude chromedriver
}

menu() {
  rofi \
    -dmenu -p ' Â» ' \
    -theme-str ' * { highlight: none; } #textbox-prompt-colon { enabled: false; }' \
    -bw 2 -padding 24 -hide-scrollbar -lines 7 \
    -font "${CJ_MONOFONT} ${CJ_MONOFONT_SIZE}" \
    -color-normal "#${CJ_COLOR_BG_HEX}, #${CJ_COLOR_FG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_4_HEX}" \
    -color-urgent "#${CJ_COLOR_BG_HEX}, #${CJ_COLOR_FG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_4_HEX}" \
    -color-active "#${CJ_COLOR_BG_HEX}, #${CJ_COLOR_FG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_BG_HEX}, #${CJ_COLOR_4_HEX}" \
    -color-window "#${CJ_COLOR_BG_HEX}, #${CJ_COLOR_4_HEX}, #${CJ_COLOR_BG_HEX}"
}

choice=$(apps | menu)
[ -z "$choice" ] || exec "$choice"
